"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[667],{5978:function(l,s,a){a.r(s),a.d(s,{default:function(){return Search}});var i=a(7437),o=a(4033),d=a(2265);function c(l,s,a){var i=this,o=(0,d.useRef)(null),u=(0,d.useRef)(0),h=(0,d.useRef)(null),p=(0,d.useRef)([]),x=(0,d.useRef)(),m=(0,d.useRef)(),f=(0,d.useRef)(l),g=(0,d.useRef)(!0);f.current=l;var j="undefined"!=typeof window,w=!s&&0!==s&&j;if("function"!=typeof l)throw TypeError("Expected a function");s=+s||0;var y=!!(a=a||{}).leading,b=!("trailing"in a)||!!a.trailing,N="maxWait"in a,v="debounceOnServer"in a&&!!a.debounceOnServer,k=N?Math.max(+a.maxWait||0,s):null;return(0,d.useEffect)(function(){return g.current=!0,function(){g.current=!1}},[]),(0,d.useMemo)(function(){var r=function(l){var s=p.current,a=x.current;return p.current=x.current=null,u.current=l,m.current=f.current.apply(a,s)},n=function(l,s){w&&cancelAnimationFrame(h.current),h.current=w?requestAnimationFrame(l):setTimeout(l,s)},t=function(l){if(!g.current)return!1;var a=l-o.current;return!o.current||a>=s||a<0||N&&l-u.current>=k},e=function(l){return h.current=null,b&&p.current?r(l):(p.current=x.current=null,m.current)},c=function r(){var l=Date.now();if(t(l))return e(l);if(g.current){var a=s-(l-o.current);n(r,N?Math.min(a,k-(l-u.current)):a)}},A=function(){if(j||v){var l=Date.now(),a=t(l);if(p.current=[].slice.call(arguments),x.current=i,o.current=l,a){if(!h.current&&g.current)return u.current=o.current,n(c,s),y?r(o.current):m.current;if(N)return n(c,s),r(o.current)}return h.current||n(c,s),m.current}};return A.cancel=function(){h.current&&(w?cancelAnimationFrame(h.current):clearTimeout(h.current)),u.current=0,p.current=o.current=x.current=h.current=null},A.isPending=function(){return!!h.current},A.flush=function(){return h.current?e(Date.now()):m.current},A},[y,N,s,k,b,w,j,v])}function Search(l){var s;let{placeholder:a}=l,d=(0,o.useSearchParams)(),u=(0,o.usePathname)(),{replace:h}=(0,o.useRouter)(),p=c(l=>{console.log("Searching... ".concat(l));let s=new URLSearchParams(d);s.set("page","1"),l?s.set("query",l):s.delete("query"),h("".concat(u,"?").concat(s.toString()))},500);return(0,i.jsxs)("div",{className:"relative flex flex-1 flex-shrink-0",children:[(0,i.jsx)("label",{htmlFor:"search",className:"sr-only",children:"Search"}),(0,i.jsx)("input",{className:"peer block w-full rounded-md border border-gray-200 py-[9px] pl-5 text-sm outline-2 placeholder:text-gray-500",placeholder:a,onChange:l=>{p(l.target.value)},defaultValue:null===(s=d.get("query"))||void 0===s?void 0:s.toString()})]})}},5667:function(l,s,a){a.d(s,{J:function(){return DisplayAggregateSkillsTableWithSelection},Z:function(){return DisplayAggregateSkillsTable}});var i=a(7437),o=a(7311),d=a(5978),u=a(2265);function PlusCircleIcon({title:l,titleId:s,...a},i){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":s},a),l?u.createElement("title",{id:s},l):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"}))}let h=u.forwardRef(PlusCircleIcon);function PlusCircleIcon_PlusCircleIcon({title:l,titleId:s,...a},i){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":s},a),l?u.createElement("title",{id:s},l):null,u.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM12.75 9a.75.75 0 00-1.5 0v2.25H9a.75.75 0 000 1.5h2.25V15a.75.75 0 001.5 0v-2.25H15a.75.75 0 000-1.5h-2.25V9z",clipRule:"evenodd"}))}let p=u.forwardRef(PlusCircleIcon_PlusCircleIcon);function IncludeInClassLessonPlan(l){let{includeInClassLessonPlan:s}=l;return(0,i.jsxs)("span",{className:"inline-flex items-center rounded-full px-2 py-1 text-xs",children:[s?null:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(h,{className:"ml-1 w-4 text-gray-500"})}),s?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(p,{className:"ml-1 w-4 text-highlight"})}):null]})}function DisplayAggregateSkillsTable(l){let{skillAggregates:s}=l;return(0,i.jsxs)("div",{className:"flex w-full flex-col md:col-span-4 lg:col-span-4",children:[(0,i.jsx)("h2",{className:"mb-4 text-xl md:text-2xl",children:"Skills"}),(0,i.jsx)("div",{className:"mb-4 flex items-center justify-between gap-2 ",children:(0,i.jsx)(d.default,{placeholder:"Search skills..."})}),(0,i.jsx)("div",{className:"flex grow flex-col justify-between rounded-xl bg-gray-50 p-1",children:(0,i.jsxs)("table",{className:"hidden min-w-full text-gray-900 md:table",children:[(0,i.jsx)("thead",{className:"rounded-lg text-left text-sm font-normal",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"col",className:"px-4 py-5 font-medium sm:pl-6",children:"Skill"}),(0,i.jsx)("th",{scope:"col",className:"px-3 py-5 font-medium ",children:"Mastery"}),(0,i.jsx)("th",{scope:"col",className:"px-3 py-5 font-medium",children:"Retention"}),(0,i.jsxs)("th",{scope:"col",className:"px-3 py-5 font-medium",children:["Incomplete",(0,i.jsx)("br",{}),"Dependencies"]}),(0,i.jsxs)("th",{scope:"col",className:"px-3 py-5 font-medium",children:["Requiring",(0,i.jsx)("br",{}),"Revision"]})]})}),(0,i.jsx)("tbody",{className:"bg-white",children:null==s?void 0:s.map(l=>(0,i.jsxs)("tr",{className:"w-full border-b py-3 text-sm last-of-type:border-none [&:first-child>td:first-child]:rounded-tl-lg [&:first-child>td:last-child]:rounded-tr-lg [&:last-child>td:first-child]:rounded-bl-lg [&:last-child>td:last-child]:rounded-br-lg",children:[(0,i.jsx)("td",{className:"whitespace-nowrap py-3 pl-6 pr-3",children:(0,i.jsx)("div",{className:"flex items-center gap-3",children:(0,i.jsx)("a",{href:"/teacher/classes/skills?class_name=".concat(l.school_class_name,"&skill=").concat(l.skill),className:"hover:text-blue-600",children:l.skill})})}),(0,i.jsx)("td",{className:"whitespace-nowrap px-3 py-3",children:(0,i.jsx)(o.Z,{score:l.mastery_score,width:"100px",backgroundColor:"#388a91"})}),(0,i.jsx)("td",{className:"whitespace-nowrap px-3 py-3",children:(0,i.jsx)(o.Z,{score:l.retention_score,width:"100px",backgroundColor:"#388a91"})}),(0,i.jsx)("td",{className:"whitespace-nowrap px-3 py-3",children:l.no_students_not_met_dependencies}),(0,i.jsx)("td",{className:"whitespace-nowrap px-3 py-3",children:l.no_students_to_revise})]},l.skill))})]})})]})}function DisplayAggregateSkillsTableWithSelection(l){let{extendedSkillAggregates:s,onToggle:a}=l;return(0,i.jsxs)("div",{className:"flex w-full flex-col md:col-span-4 lg:col-span-4",children:[(0,i.jsx)("h2",{className:"mb-4 text-xl md:text-2xl",children:"Skills"}),(0,i.jsx)("div",{className:"mb-4 flex items-center justify-between gap-2 ",children:(0,i.jsx)(d.default,{placeholder:"Search skills..."})}),(0,i.jsx)("div",{className:"flex grow flex-col justify-between rounded-xl bg-gray-50 p-1",children:(0,i.jsxs)("table",{className:"hidden min-w-full text-gray-900 md:table",children:[(0,i.jsx)("thead",{className:"rounded-lg text-left text-sm font-normal",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"col",className:"px-4 py-5 font-medium sm:pl-6",children:"Skill"}),(0,i.jsx)("th",{scope:"col",className:"px-3 py-5 font-medium ",children:"Mastery"}),(0,i.jsx)("th",{scope:"col",className:"px-3 py-5 font-medium",children:"Retention"}),(0,i.jsxs)("th",{scope:"col",className:"px-3 py-5 font-medium",children:["Incomplete",(0,i.jsx)("br",{}),"Dependencies"]}),(0,i.jsxs)("th",{scope:"col",className:"px-3 py-5 font-medium",children:["Requiring",(0,i.jsx)("br",{}),"Revision"]})]})}),(0,i.jsx)("tbody",{className:"bg-white",children:null==s?void 0:s.map(l=>(0,i.jsxs)("tr",{className:"w-full border-b py-3 text-sm last-of-type:border-none [&:first-child>td:first-child]:rounded-tl-lg [&:first-child>td:last-child]:rounded-tr-lg [&:last-child>td:first-child]:rounded-bl-lg [&:last-child>td:last-child]:rounded-br-lg",children:[(0,i.jsx)("td",{className:"whitespace-nowrap py-3 pl-6 pr-3",children:(0,i.jsxs)("div",{className:"flex items-center gap-3",onClick:()=>a(l.skill),children:[(0,i.jsx)(IncludeInClassLessonPlan,{includeInClassLessonPlan:l.include_in_class_lesson_plan}),l.skill]})}),(0,i.jsx)("td",{className:"whitespace-nowrap px-3 py-3",children:(0,i.jsx)(o.Z,{score:l.mastery_score,width:"100px",backgroundColor:"#388a91"})}),(0,i.jsx)("td",{className:"whitespace-nowrap px-3 py-3",children:(0,i.jsx)(o.Z,{score:l.retention_score,width:"100px",backgroundColor:"#388a91"})}),(0,i.jsx)("td",{className:"whitespace-nowrap px-3 py-3",children:l.no_students_not_met_dependencies}),(0,i.jsx)("td",{className:"whitespace-nowrap px-3 py-3",children:l.no_students_to_revise})]},l.skill))})]})})]})}},7311:function(l,s,a){var i=a(7437);a(2265),s.Z=l=>{let{score:s,width:a="100%",height:o="20px",backgroundColor:d="green",borderRadius:u="8px",color:h="white",lineHeight:p="20px"}=l;return(0,i.jsx)("div",{className:"progress-bar-container",style:{width:a,backgroundColor:"#e0e0e0",borderRadius:u},children:(0,i.jsx)("div",{className:"progress-bar-fill",style:{height:o,width:"".concat(Math.min(s,100),"%"),backgroundColor:d,borderRadius:u,color:h,lineHeight:p,transition:"width 0.5s ease"}})})}}}]);